{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint Ledcontrol = 3;int iluminacion = 4;int pulsador = 7;int sensor_de_luz_0 = A1;float contadorpulsaciones = 0;float contadornocturno = 0;\n\n/***   Setup  ***/\nvoid setup(){pinMode(Ledcontrol, OUTPUT);pinMode(iluminacion, OUTPUT);pinMode(pulsador, INPUT);pinMode(sensor_de_luz_0, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){float Pulsador = digitalRead(7);float cantidadluz = analogRead(A1);if(Pulsador == 1){contadorpulsaciones = contadorpulsaciones + 1;contadornocturno = 0;delay(500);if(contadorpulsaciones > 1){contadorpulsaciones = 0;digitalWrite(Ledcontrol,LOW);}}if(contadorpulsaciones == 1){digitalWrite(Ledcontrol,HIGH);if(cantidadluz <= 200){if(contadornocturno == 0){digitalWrite(iluminacion,HIGH);delay(2000);digitalWrite(iluminacion,LOW);contadornocturno = 1;}}}}","description":"","name":"lampara_nocturna","corbelId":"55acae7ae4b00f538d041f75:d31d2372-e4da-4b36-b40e-7eb11f15dbfd","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","button","ldrs"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"value":"Pulsador","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"pulsador","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"cantidadluz","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"Pulsador","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"contadorpulsaciones","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"contadorpulsaciones","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"contadornocturno","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"500","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"contadorpulsaciones","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"contadorpulsaciones","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"Ledcontrol","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"if","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"contadorpulsaciones","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"Ledcontrol","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"cantidadluz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<=","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"200","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"contadornocturno","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"iluminacion","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"iluminacion","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"contadornocturno","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"if","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"contadorpulsaciones","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"contadornocturno","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"2942e03c-ef15-49ed-aa14-b3a989bf4445","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"71d0e3c1-3af2-44e7-9d50-fa63b61400c8","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"dd14c221-1a48-44b1-8395-9d7dd99fb59e","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"c29f8235-5305-4f80-a792-30441af4811c","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"Ledcontrol","coordinates":{"y":16.914285714285715,"x":64.8170731707317},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"2942e03c-ef15-49ed-aa14-b3a989bf4445"}},"uid":"74a62b24-2447-4fb2-a72d-c6e34413fe06","connected":true},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"iluminacion","coordinates":{"y":11.771428571428572,"x":56.28048780487804},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"71d0e3c1-3af2-44e7-9d50-fa63b61400c8"}},"uid":"55e5f76f-11de-408f-baf5-48b74b33f2b1","connected":true},{"height":73,"category":"sensors","id":"button","name":"pulsador","width":90,"pin":{"s":"7"},"uid":"a6124986-aca4-47bc-a74e-4786832dad60","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":17.485714285714284,"x":48.109756097560975},"icon":"button","endpoints":{"s":{"type":"digital","uid":"dd14c221-1a48-44b1-8395-9d7dd99fb59e"}}},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz_0","width":90,"pin":{"s":"A1"},"uid":"f64e030b-89f4-49f1-b0e3-6f231d3a3795","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":71.42857142857143,"x":52.926829268292686},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"c29f8235-5305-4f80-a792-30441af4811c"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}