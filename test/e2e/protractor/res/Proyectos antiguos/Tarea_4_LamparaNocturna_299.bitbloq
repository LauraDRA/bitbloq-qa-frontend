{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint Led_Encendido = 3;int Led_Inteligente = 4;int SensorLuz = A1;int Pulsador = 7;float CantLuz = 0;float LamparaON = 0;float NuevoDia = 1;float Estado = 0;\n\n/***   Setup  ***/\nvoid setup(){pinMode(Led_Encendido, OUTPUT);pinMode(Led_Inteligente, OUTPUT);pinMode(SensorLuz, INPUT);pinMode(Pulsador, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){/*\nBloque de control de estado de la Lampara ON/OFF\n*/if(digitalRead(7) == 1){Estado = Estado + 1;}if(Estado == 1){LamparaON = 1;digitalWrite(Led_Encendido,HIGH);delay(300);}if(Estado == 2){LamparaON = 0;digitalWrite(Led_Encendido,LOW);delay(300);}if(Estado > 2){Estado = 0;}/*\nBloque de encendido del Led Inteligente (Luz Verde)\n*/CantLuz = analogRead(A1);if(CantLuz > 150){NuevoDia = 1;}if(LamparaON == 1){if(CantLuz <= 150 && NuevoDia == 1){delay(300);digitalWrite(Led_Inteligente,HIGH);delay(2000);digitalWrite(Led_Inteligente,LOW);NuevoDia = 0;}}}","description":"","name":"Tarea_4_LamparaNocturna","corbelId":"55acae7ae4b00f538d041f75:9b3b49dc-21b1-4b27-a9b0-ad3874f88cb3","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","ldrs","button"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"value":"Bloque de control de estado de la Lampara ON/OFF","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"Pulsador","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"Estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"Estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"Estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"LamparaON","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"Led_Encendido","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"300","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"Estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"2","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"LamparaON","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"Led_Encendido","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"300","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"Estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"2","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"Estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[{"value":"Bloque de encendido del Led Inteligente (Luz Verde)","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"CantLuz","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"SensorLuz","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"CantLuz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"150","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"NuevoDia","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"LamparaON","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"CONDITION","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"CantLuz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<=","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"150","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"NuevoDia","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"300","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"Led_Inteligente","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"Led_Inteligente","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"NuevoDia","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"ifAdvanced","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"CantLuz","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"LamparaON","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"NuevoDia","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"Estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"3fa253ca-86ce-4182-bece-6c9c72abd904","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"48c75bfc-0e2f-481f-ac21-47ebe4da41b2","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"8e06d7b3-b2bb-44ed-9a2f-b7e5e1987f30","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"},{"pinSourceUid":"0c8130df-b69a-4ab0-8a04-02597e0e51e2","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"Led_Encendido","coordinates":{"y":17.953321364452425,"x":79.55801104972376},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"3fa253ca-86ce-4182-bece-6c9c72abd904"}},"uid":"5ec60b0c-57c2-4295-9b4d-fbc386017d9f","connected":true},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"Led_Inteligente","coordinates":{"y":40.035906642728904,"x":85.54327808471454},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"48c75bfc-0e2f-481f-ac21-47ebe4da41b2"}},"uid":"6b0c5437-233f-4bde-b2ee-a3008df87e96","connected":true},{"height":65,"category":"sensors","id":"ldrs","name":"SensorLuz","width":90,"pin":{"s":"A1"},"uid":"da4653a2-5669-4ae0-af8f-3c2c4390ffc4","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":70.55655296229803,"x":71.08655616942909},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"8e06d7b3-b2bb-44ed-9a2f-b7e5e1987f30"}}},{"height":73,"category":"sensors","id":"button","name":"Pulsador","width":90,"pin":{"s":"7"},"uid":"910b081f-bd09-4524-a6cc-9fbcc1875500","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":11.310592459605028,"x":24.677716390423573},"icon":"button","endpoints":{"s":{"type":"digital","uid":"0c8130df-b69a-4ab0-8a04-02597e0e51e2"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}