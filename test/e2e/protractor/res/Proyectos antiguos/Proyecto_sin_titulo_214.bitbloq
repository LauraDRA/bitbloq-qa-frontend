{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint led_0 = 4;int led_1 = 3;int sensor_de_luz_0 = A1;int boton_0 = 7;/*\nDeclara pulsado no pulsada\n*/float pulsado = 0;/*\nDeclara la variable encendida a 0 activa encender luz nocturna\n*/float encendida = 0;\n\n/***   Setup  ***/\nvoid setup(){pinMode(led_0, OUTPUT);pinMode(led_1, OUTPUT);pinMode(sensor_de_luz_0, INPUT);pinMode(boton_0, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){float luz = analogRead(A1);float estado = 0;float estadoanterior = 0;/*\nLee estado del pulsador\n*/estado = digitalRead(7);if(estado == 1 && estadoanterior == 0){pulsado = 1 - pulsado;delay(500);/*\nComprueba si esta pulsado boton\n*/}/*\nAlmacena estado del pulsador\n*/estadoanterior = estado;/*\nSi esta pulsado boton inicia encendido de luces\n*/if(pulsado == 1){digitalWrite(led_0,HIGH);/*\nSi la luz es inferior a 100 enciende luz nocturna\n*/if(luz < 100 && encendida == 0){digitalWrite(led_1,HIGH);delay(2000);digitalWrite(led_1,LOW);/*\nAumenta variable encendida por si se vuelve a encender luz\n*/encendida = 1 + encendida;}/*\nSi se enciende la luz vuelve a resetear encendida para volver a enender luz norturna cuando se apague otra vez\n*/if(luz > 100){encendida = 1 - encendida;}}/*\nSi se vuelve a pulsar boton apaga lampara\n*/else {digitalWrite(led_0,LOW);digitalWrite(led_1,LOW);}}","description":"","name":"Proyecto sin titulo","corbelId":"55acae7ae4b00f538d041f75:df60d966-f3e4-4d15-bd0e-6f501ba45d44","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","ldrs","button"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"value":"luz","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"estadoanterior","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"Lee estado del pulsador","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estadoanterior","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"pulsado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"-","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"pulsado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"500","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"Comprueba si esta pulsado boton","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true}],"name":"if","enable":true},{"content":[[{"value":"Almacena estado del pulsador","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"estadoanterior","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"Si esta pulsado boton inicia encendido de luces","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"pulsado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_0","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"Si la luz es inferior a 100 enciende luz nocturna","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"luz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"100","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"encendida","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_1","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_1","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"Aumenta variable encendida por si se vuelve a encender luz","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"encendida","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"encendida","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[{"value":"Si se enciende la luz vuelve a resetear encendida para volver a enender luz norturna cuando se apague otra vez","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"luz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"100","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"encendida","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"-","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"encendida","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"if","enable":true},{"content":[[{"value":"Si se vuelve a pulsar boton apaga lampara","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_0","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_1","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"else","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"Declara pulsado no pulsada","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"pulsado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"Declara la variable encendida a 0 activa encender luz nocturna","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"encendida","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"1e2c2926-92cf-4361-8a78-2de0ad4df64b","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"ab533f67-df0e-4ebf-98ac-d5b2eb78c118","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"9c686d1d-da9d-461e-94bf-e389f7200c30","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"},{"pinSourceUid":"81b64ad5-11b6-4797-aa7c-b47a2517b6db","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_0","coordinates":{"y":13.663133097762072,"x":54.64285714285714},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"1e2c2926-92cf-4361-8a78-2de0ad4df64b"}},"uid":"a4a24948-5cc0-4244-bfcf-21604c680eb6","connected":true},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_1","coordinates":{"y":12.956419316843345,"x":67.78571428571428},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"ab533f67-df0e-4ebf-98ac-d5b2eb78c118"}},"uid":"8fa299b8-3648-4451-9412-93460fa25809","connected":true},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz_0","width":90,"pin":{"s":"A1"},"uid":"addb0994-30a0-4c7e-86ea-1ffcb8bd68e3","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":73.61601884570082,"x":53.214285714285715},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"9c686d1d-da9d-461e-94bf-e389f7200c30"}}},{"height":73,"category":"sensors","id":"button","name":"boton_0","width":90,"pin":{"s":"7"},"uid":"47af6924-9450-4541-a5c1-2ea247773bec","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":14.958775029446409,"x":43.142857142857146},"icon":"button","endpoints":{"s":{"type":"digital","uid":"81b64ad5-11b6-4797-aa7c-b47a2517b6db"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}