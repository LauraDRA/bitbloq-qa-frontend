{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint led_light = 3;int led_on = 4;int sensor_de_luz_0 = A1;int boton_0 = 7;float limite = 100;float lectura = 0;bool on = false;bool ya_encencido = false;\n\n/***   Setup  ***/\nvoid setup(){pinMode(led_light, OUTPUT);pinMode(led_on, OUTPUT);pinMode(sensor_de_luz_0, INPUT);pinMode(boton_0, INPUT);digitalWrite(led_light,LOW);digitalWrite(led_on,LOW);}\n\n/***   Loop  ***/\nvoid loop(){ya_encencido = false;if(digitalRead(7) == 1){ya_encencido = false;if(on == true){on = false;digitalWrite(led_on,LOW);digitalWrite(led_light,LOW);}else {on = true;digitalWrite(led_on,HIGH);while (digitalRead(7) == 0){lectura = analogRead(A1);if(lectura < limite){if(ya_encencido == false){ya_encencido = true;digitalWrite(led_light,HIGH);delay(5000);digitalWrite(led_light,LOW);}}else {ya_encencido = false;digitalWrite(led_light,LOW);}}}}}","description":"","name":"Lampara_nocturna","corbelId":"55acae7ae4b00f538d041f75:72e7b012-1d35-44a3-86f6-2d38de1f125f","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","ldrs","button"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"value":"ya_encencido","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"ya_encencido","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"on","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"on","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_on","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_light","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"if","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"on","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_on","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"lectura","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"lectura","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"limite","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"ya_encencido","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"ya_encencido","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_light","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"5000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_light","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"if","enable":true}],"name":"if","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"ya_encencido","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_light","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"else","enable":true}],"name":"while","enable":true}],"name":"else","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_light","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_on","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"limite","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"100","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"lectura","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"on","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"ya_encencido","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"7e7ef255-8a3a-4aab-9f7f-fe0ae82145bd","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"262d43d3-acc6-4dcd-b8be-e7f97f0de38d","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"},{"pinSourceUid":"d012ed47-69d4-489c-8bb8-41973e581e47","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"8b223132-dacc-4e1d-a1cf-8aeaf49f7a8a","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_light","coordinates":{"y":11.669658886894076,"x":73.88888888888889},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"7e7ef255-8a3a-4aab-9f7f-fe0ae82145bd"}},"uid":"74f87162-e1c5-4c7b-a438-a58b81735be8","connected":true},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz_0","width":90,"pin":{"s":"A1"},"uid":"2a4ca350-a6a7-44c8-a90f-c3cc1461dab2","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":44.88330341113106,"x":66.85185185185185},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"262d43d3-acc6-4dcd-b8be-e7f97f0de38d"}}},{"height":73,"category":"sensors","id":"button","name":"boton_0","width":90,"pin":{"s":"7"},"uid":"e54018af-2e50-478a-92b9-ba112b26fca0","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":45.601436265709154,"x":19.62962962962963},"icon":"button","endpoints":{"s":{"type":"digital","uid":"d012ed47-69d4-489c-8bb8-41973e581e47"}}},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_on","coordinates":{"y":7.360861759425494,"x":55.18518518518518},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"8b223132-dacc-4e1d-a1cf-8aeaf49f7a8a"}},"uid":"cc1d0093-5663-4922-9e94-6bddba829c18","connected":true}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}