{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint led = 3;int led_lampara = 4;int boton = 7;int sensor_de_luz = A1;float estado = 0;bool tiempo = true;\n\n/***   Setup  ***/\nvoid setup(){pinMode(led, OUTPUT);pinMode(led_lampara, OUTPUT);pinMode(boton, INPUT);pinMode(sensor_de_luz, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){if(digitalRead(7) == 1){while (digitalRead(7) == 1){delay(100);}if(estado < 2){estado = estado + 1;}else {estado = 0;}}switch (int(estado)) {case 0:{digitalWrite(led,LOW);break;}case 1:{digitalWrite(led,HIGH);if(analogRead(A1) < 300 && tiempo == true){digitalWrite(led_lampara,HIGH);delay(2000);tiempo = false;}else {digitalWrite(led_lampara,LOW);}break;}}}","description":"","name":"lampara nocturna 2 minutos","corbelId":"55acae7ae4b00f538d041f75:5f6815aa-465a-4c73-bcbf-a326e78c643d","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","button","ldrs"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"while","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"2","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"else","enable":true}],"name":"if","enable":true},{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"childs":[{"content":[[{"value":"0","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"case","enable":true},{"content":[[{"value":"1","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"CONDITION","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"300","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"tiempo","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"ifAdvanced","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"else","enable":true}],"name":"case","enable":true}],"name":"switch","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"0f52ba60-4b2a-4953-9b0c-acd648ab9bfd","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"8f01ad77-a4a0-4b40-9525-0c2939aa6831","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"88299aee-f93b-456b-b749-8c8d2be0dc98","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"85a0d98d-e98e-4dac-bfa9-3603a41eedf8","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led","coordinates":{"y":13.10592459605027,"x":70.44198895027624},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"0f52ba60-4b2a-4953-9b0c-acd648ab9bfd"}},"uid":"2f2d78db-8297-46d4-ab5c-925f8b170444","connected":true},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_lampara","coordinates":{"y":8.43806104129264,"x":53.03867403314917},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"8f01ad77-a4a0-4b40-9525-0c2939aa6831"}},"uid":"63d8cdf9-8533-4722-8f52-21e09d130779","connected":true},{"height":73,"category":"sensors","id":"button","name":"boton","width":90,"pin":{"s":"7"},"uid":"84e47cdd-3796-4184-a86d-935bb717e210","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":9.874326750448834,"x":40.23941068139963},"icon":"button","endpoints":{"s":{"type":"digital","uid":"88299aee-f93b-456b-b749-8c8d2be0dc98"}}},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz","width":90,"pin":{"s":"A1"},"uid":"d4f99477-1535-47fa-95c3-65f2fbc02986","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":78.63554757630162,"x":55.24861878453039},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"85a0d98d-e98e-4dac-bfa9-3603a41eedf8"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}