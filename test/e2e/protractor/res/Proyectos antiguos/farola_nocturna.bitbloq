{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint led_funcionamiento = 3;int led_ldr = 4;int pulsador = 7;int ldr = A1;float estado = 0;bool tiempo = true;\n\n/***   Setup  ***/\nvoid setup(){pinMode(led_funcionamiento, OUTPUT);pinMode(led_ldr, OUTPUT);pinMode(pulsador, INPUT);pinMode(ldr, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){if(digitalRead(7) == 1){while (digitalRead(7) == 1){delay(100);}if(estado < 1){estado = estado + 1;}else {estado = 0;}}switch (int(estado)) {case 0:{digitalWrite(led_funcionamiento,LOW);tiempo = true;break;}case 1:{digitalWrite(led_funcionamiento,HIGH);if(analogRead(A1) < 200 && tiempo == true){digitalWrite(led_ldr,HIGH);delay(120000);tiempo = false;}else {digitalWrite(led_ldr,LOW);}if(analogRead(A1) > 201){tiempo = true;}break;}}}","description":"","name":"farola_nocturna","corbelId":"55acae7ae4b00f538d041f75:b65869a1-442b-4352-8bbf-2e7627fb4f36","image":"default","userTags":[],"hardwareTags":["bq ZUM","button","led","ldrs"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"pulsador","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"pulsador","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"while","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"else","enable":true}],"name":"if","enable":true},{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"childs":[{"content":[[{"value":"0","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_funcionamiento","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"case","enable":true},{"content":[[{"value":"1","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_funcionamiento","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"CONDITION","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"ldr","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"200","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"tiempo","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_ldr","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"120000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"ifAdvanced","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_ldr","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"else","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"ldr","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"201","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"case","enable":true}],"name":"switch","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"0c4a7e99-63af-4561-96c0-ab230576ab9f","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"226e2ff9-5c4f-4281-a0a3-f069478934d2","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"43ede298-cf6f-48e9-90a3-03c79707f020","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"4549e9f7-282b-4fb6-9fb4-b152cbfb05cb","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"}],"components":[{"height":73,"category":"sensors","id":"button","name":"pulsador","width":90,"pin":{"s":"7"},"uid":"8e2b0763-053f-4684-b987-e38448a7665c","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":12.382234185733513,"x":34.99511241446726},"icon":"button","endpoints":{"s":{"type":"digital","uid":"0c4a7e99-63af-4561-96c0-ab230576ab9f"}}},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_funcionamiento","coordinates":{"y":9.959623149394348,"x":74.09579667644184},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"226e2ff9-5c4f-4281-a0a3-f069478934d2"}},"uid":"8ac2d29a-9ef3-4043-b9e7-342a8f6dd7c5","connected":true},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_ldr","coordinates":{"y":10.679611650485436,"x":55.88235294117647},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"43ede298-cf6f-48e9-90a3-03c79707f020"}},"uid":"6b4ecd15-b1a9-470f-9f63-dbb161031638","connected":true},{"height":65,"category":"sensors","id":"ldrs","name":"ldr","width":90,"pin":{"s":"A1"},"uid":"53a4db72-8251-475b-a4cd-00cc4f899aa9","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":71.33243606998654,"x":54.54545454545454},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"4549e9f7-282b-4fb6-9fb4-b152cbfb05cb"}}}]},"defaultTheme":"infotab_option_grayTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}