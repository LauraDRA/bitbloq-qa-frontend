{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint luz_on = 3;int luz_lampara = 4;int boton_0 = 7;int sensor_de_luz_0 = A1;float cant_luz = 0;float estado = 0;\n\n/***   Setup  ***/\nvoid setup(){pinMode(luz_on, OUTPUT);pinMode(luz_lampara, OUTPUT);pinMode(boton_0, INPUT);pinMode(sensor_de_luz_0, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){if(digitalRead(7) == 1){while (digitalRead(7) == 1){delay(100);}if(estado < 1){estado = estado + 1;}else {estado = 0;}}switch (int(estado)) {case 0:{digitalWrite(luz_on,LOW);digitalWrite(luz_lampara,LOW);break;}case 1:{digitalWrite(luz_on,HIGH);if(analogRead(A1) < 50){digitalWrite(luz_lampara,HIGH);delay(2000);digitalWrite(luz_lampara,LOW);while (analogRead(A1) < 50){digitalWrite(luz_lampara,LOW);}}break;}}}","description":"","name":"Lampara nocturna buena","corbelId":"55acae7ae4b00f538d041f75:0bce7ff4-03f5-46ab-a375-31cffbf0fcb2","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","button","ldrs"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"while","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"else","enable":true}],"name":"if","enable":true},{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"childs":[{"content":[[{"value":"0","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"luz_on","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"luz_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"case","enable":true},{"content":[[{"value":"1","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"luz_on","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"50","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"luz_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"luz_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"50","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"luz_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"while","enable":true}],"name":"if","enable":true}],"name":"case","enable":true}],"name":"switch","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"cant_luz","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"e515c78d-0207-4ebb-b352-2b01440b0a43","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"c0dd6444-309e-48ee-979d-93306083efe9","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"761be6cc-3533-4d8f-81e2-4a342f268574","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"},{"pinSourceUid":"45ec08e2-b68d-48f5-b1c7-85c6109ab728","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"luz_on","coordinates":{"y":0,"x":64.548802946593},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"e515c78d-0207-4ebb-b352-2b01440b0a43"}},"uid":"6e148fc4-cbe9-4bd1-8eed-d5984090d89f","connected":true},{"height":73,"category":"sensors","id":"button","name":"boton_0","width":90,"pin":{"s":"7"},"uid":"1d2cb58f-2d9e-47cf-b2c6-06c2d2367dd1","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":1.7543859649122806,"x":29.83425414364641},"icon":"button","endpoints":{"s":{"type":"digital","uid":"c0dd6444-309e-48ee-979d-93306083efe9"}}},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz_0","width":90,"pin":{"s":"A1"},"uid":"f949c8ee-f0f1-4562-863f-07cb6fa82641","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":83.4307992202729,"x":53.86740331491713},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"761be6cc-3533-4d8f-81e2-4a342f268574"}}},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"luz_lampara","coordinates":{"y":1.615798922800718,"x":54.78821362799263},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"45ec08e2-b68d-48f5-b1c7-85c6109ab728"}},"uid":"841b7f79-6749-449d-accb-e45ec5542643","connected":true}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}