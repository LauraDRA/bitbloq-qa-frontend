{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint conectado = 4;int lampara = 3;int activar = 7;int sensor_de_luz = A1;float encendido = 1;float activado = 0;\n\n/***   Setup  ***/\nvoid setup(){pinMode(conectado, OUTPUT);pinMode(lampara, OUTPUT);pinMode(activar, INPUT);pinMode(sensor_de_luz, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){float cantidad_luz = analogRead(A1);if(digitalRead(7) == 1){activado = activado + 1;}delay(100);if(activado == 1){digitalWrite(conectado,HIGH);if(analogRead(A1) < 100){if(encendido == 1){digitalWrite(lampara,HIGH);delay(2000);encendido = 0;digitalWrite(lampara,LOW);}}if(analogRead(A1) > 100){encendido = 1;digitalWrite(lampara,LOW);delay(1000);}}delay(100);if(activado == 2){digitalWrite(conectado,LOW);}delay(100);if(activado > 2){activado = 0;}}","description":"","name":"Ej_4_lampara_nocturna_DanielGV_261115","corbelId":"55acae7ae4b00f538d041f75:2ad11b8a-551e-448b-8d25-af98eade76a0","image":"default","userTags":[],"hardwareTags":["bq ZUM","button","ldrs","led"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"value":"cantidad_luz","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"sensor_de_luz","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"activar","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"activado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"activado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"activado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"conectado","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"100","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"encendido","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"encendido","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"if","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"100","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"encendido","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"1000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"if","enable":true}],"name":"if","enable":true},{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"activado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"2","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"conectado","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"if","enable":true},{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"activado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"2","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"activado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"encendido","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"activado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"3be49801-9f5b-4f46-b454-a888962ed438","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"75aad690-3e3e-4726-85c0-efba2b7e89c4","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"},{"pinSourceUid":"17487609-31df-431d-8915-33f06e2cbfda","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"2c5714ea-dcdd-4ba6-ab59-58ca3ccea9a1","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"}],"components":[{"height":73,"category":"sensors","id":"button","name":"activar","width":90,"pin":{"s":"7"},"uid":"9491ea88-78a7-4912-9a81-30cb13337d6f","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":7.392197125256674,"x":23.2016210739615},"icon":"button","endpoints":{"s":{"type":"digital","uid":"3be49801-9f5b-4f46-b454-a888962ed438"}}},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz","width":90,"pin":{"s":"A1"},"uid":"d9f9fee2-8a62-4857-a2b9-c98ec1ded154","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":71.45790554414785,"x":70.31408308004052},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"75aad690-3e3e-4726-85c0-efba2b7e89c4"}}},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"conectado","coordinates":{"y":6.570841889117044,"x":71.22593718338399},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"17487609-31df-431d-8915-33f06e2cbfda"}},"uid":"fa40df20-8482-4616-be87-1727ff52e3e3","connected":true},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"lampara","coordinates":{"y":6.365503080082135,"x":78.419452887538},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"2c5714ea-dcdd-4ba6-ab59-58ca3ccea9a1"}},"uid":"2c7dc191-661a-4316-a700-826a938bd3a9","connected":true}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}