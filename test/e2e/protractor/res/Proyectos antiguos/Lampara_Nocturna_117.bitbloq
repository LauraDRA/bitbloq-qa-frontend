{"code":"\n/***   Included libraries  ***/\n#include <SoftwareSerial.h>\n#include <BitbloqSoftwareSerial.h>\n\n\n/***   Global variables and function definition  ***/\nint led1 = 3;int led2 = 4;int boton = 7;int sensor = A1;bqSoftwareSerial puerto_serie_0(0,1,9600);float estado = 0;\n\n/***   Setup  ***/\nvoid setup(){pinMode(led1, OUTPUT);pinMode(led2, OUTPUT);pinMode(boton, INPUT);pinMode(sensor, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){if(digitalRead(7) == 1){estado = estado + 1;delay(1000);}if(estado == 1){puerto_serie_0.println(estado);if(analogRead(A1) > 300){digitalWrite(led1,HIGH);digitalWrite(led2,HIGH);}if(analogRead(A1) < 300){digitalWrite(led2,HIGH);delay(120000);digitalWrite(led2,LOW);}}if(estado == 2){digitalWrite(led1,LOW);digitalWrite(led2,LOW);estado = digitalRead(7);}}","description":"","name":"Lampara_Nocturna","corbelId":"55acae7ae4b00f538d041f75:62731eac-30fd-4b59-8496-6e650ab834fb","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","button","ldrs","sp"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"1000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"puerto_serie_0","id":"SERIAL","alias":"dynamicDropdown"},{"bloqInputId":"DATA","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"println","id":"LN","alias":"staticDropdown"}]],"name":"serialSend-v1","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"300","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led1","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led2","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"300","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led2","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"120000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led2","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"if","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"2","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led1","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led2","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"boton","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"932032a6-f146-4c9e-9121-5d3f79ee6655","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"4a7345ed-85d8-426a-abcd-e61deb9a7c9c","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"753d7635-e8f2-443a-914b-26a1a8963edd","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"1ded74ff-4a10-4724-bf62-a8035fea6809","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"},{"pinSourceUid":"e58c5228-8b7e-48e9-a4ee-0782d90274ce","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bc05"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led1","coordinates":{"y":12.768361581920903,"x":59.238095238095234},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"932032a6-f146-4c9e-9121-5d3f79ee6655"}},"uid":"7fce96fb-4ff9-4f2a-a94f-7f91fc78e719","connected":true},{"height":73,"category":"sensors","id":"button","name":"boton","width":90,"pin":{"s":"7"},"uid":"45d898f2-ee72-4aa9-b6e1-ec4ce672c3de","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":20.82018927444795,"x":22.07231516459795},"icon":"button","endpoints":{"s":{"type":"digital","uid":"4a7345ed-85d8-426a-abcd-e61deb9a7c9c"}}},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led2","coordinates":{"y":10.96045197740113,"x":51.11111111111111},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"753d7635-e8f2-443a-914b-26a1a8963edd"}},"uid":"baae39ae-4eee-4694-b50a-92b239ac7af0","connected":true},{"height":65,"category":"sensors","id":"ldrs","name":"sensor","width":90,"pin":{"s":"A1"},"uid":"8ccfcd1f-3479-4cc3-9bd5-6c26a23668bf","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":70.66246056782335,"x":49.00161899622234},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"1ded74ff-4a10-4724-bf62-a8035fea6809"}}},{"height":71,"category":"serialElements","id":"sp","name":"puerto_serie_0","width":115,"pin":{"s":"serial"},"uid":"5a868afd-b18d-4f26-a32c-9785b7b81f0d","connected":true,"baudRate":"9600","pins":{"serial":["s"]},"coordinates":{"y":52.655367231638415,"x":29.714285714285715},"icon":"serial","endpoints":{"s":{"type":"serial","uid":"e58c5228-8b7e-48e9-a4ee-0782d90274ce"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}