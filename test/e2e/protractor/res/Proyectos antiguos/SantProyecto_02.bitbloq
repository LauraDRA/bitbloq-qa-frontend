{"code":"\n/***   Included libraries  ***/\n#include <Servo.h>\n\n\n/***   Global variables and function definition  ***/\nServo servo_horizontal;Servo servo_vertical;int sensor_de_luz_0 = A0;int boton_0 = 7;float luz_maxima = 0;float angulo_max_h = 0;float angulo_max_v = 0;float angulo_h = 0;float angulo_v = 0;\n\n/***   Setup  ***/\nvoid setup(){servo_horizontal.attach(10);servo_vertical.attach(9);pinMode(sensor_de_luz_0, INPUT);pinMode(boton_0, INPUT);/*\nAutocalibración\n*/servo_horizontal.write(90);servo_vertical.write(90);delay(1000);}\n\n/***   Loop  ***/\nvoid loop(){if(digitalRead(7) == 1){/*\nBúsqueda de luz optima\n*/for(angulo_h=0;angulo_h<180;angulo_h+=30){servo_horizontal.write(angulo_h);for(angulo_v=0;angulo_v<180;angulo_v+=2){servo_vertical.write(angulo_v);delay(50);if(analogRead(A0) > luz_maxima){luz_maxima = analogRead(A0);angulo_max_h = angulo_h;angulo_max_v = angulo_v;}}delay(500);}/*\nMovimiento a luz óptima\n*/servo_horizontal.write(angulo_max_h);servo_vertical.write(angulo_max_v);delay(2000);}}","description":"","name":"SantProyecto_02","corbelId":"55acae7ae4b00f538d041f75:d63d35cf-1a00-4c97-8987-7c9de71e5bbe","image":"default","userTags":[],"hardwareTags":["bq ZUM","ldrs","servo","button"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"Búsqueda de luz optima","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"angulo_h","id":"VAR","alias":"dynamicDropdown"},{"value":"0","id":"INIT","alias":"numberInput"},{"value":"180","id":"FINAL","alias":"numberInput"},{"value":"+","id":"MODE","alias":"staticDropdown"},{"value":"30","id":"ADD","alias":"numberInput"}]],"childs":[{"content":[[{"bloqInputId":"SERVO","value":{"content":[[{"value":"servo_horizontal","id":"COMPONENT","alias":"dynamicDropdown"}]],"name":"hwVariable","enable":true},"alias":"bloqInput"},{"bloqInputId":"POSITION","value":{"content":[[{"value":"angulo_h","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"servoNormalAdvanced","enable":true},{"content":[[{"value":"angulo_v","id":"VAR","alias":"dynamicDropdown"},{"value":"0","id":"INIT","alias":"numberInput"},{"value":"180","id":"FINAL","alias":"numberInput"},{"value":"+","id":"MODE","alias":"staticDropdown"},{"value":"2","id":"ADD","alias":"numberInput"}]],"childs":[{"content":[[{"bloqInputId":"SERVO","value":{"content":[[{"value":"servo_vertical","id":"COMPONENT","alias":"dynamicDropdown"}]],"name":"hwVariable","enable":true},"alias":"bloqInput"},{"bloqInputId":"POSITION","value":{"content":[[{"value":"angulo_v","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"servoNormalAdvanced","enable":true},{"content":[[{"value":"50","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"luz_maxima","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"luz_maxima","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"angulo_max_h","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"angulo_h","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"angulo_max_v","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"angulo_v","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"for-v1","enable":true},{"content":[[{"value":"500","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"for-v1","enable":true},{"content":[[{"value":"Movimiento a luz óptima","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"bloqInputId":"SERVO","value":{"content":[[{"value":"servo_horizontal","id":"COMPONENT","alias":"dynamicDropdown"}]],"name":"hwVariable","enable":true},"alias":"bloqInput"},{"bloqInputId":"POSITION","value":{"content":[[{"value":"angulo_max_h","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"servoNormalAdvanced","enable":true},{"content":[[{"bloqInputId":"SERVO","value":{"content":[[{"value":"servo_vertical","id":"COMPONENT","alias":"dynamicDropdown"}]],"name":"hwVariable","enable":true},"alias":"bloqInput"},{"bloqInputId":"POSITION","value":{"content":[[{"value":"angulo_max_v","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"servoNormalAdvanced","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[{"content":[[{"value":"Autocalibración","id":"COMMENT","alias":"multilineCodeInput"}]],"name":"comment","enable":true},{"content":[[{"value":"servo_horizontal","id":"SERVO","alias":"dynamicDropdown"},{"value":"90","id":"POSITION","alias":"numberInput"}]],"name":"servoNormal","enable":true},{"content":[[{"value":"servo_vertical","id":"SERVO","alias":"dynamicDropdown"},{"value":"90","id":"POSITION","alias":"numberInput"}]],"name":"servoNormal","enable":true},{"content":[[{"value":"1000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"luz_maxima","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"angulo_max_h","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"angulo_max_v","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"angulo_h","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"angulo_v","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"3d9b83ee-55c5-4531-a290-260721c86100","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba05"},{"pinSourceUid":"477f8d92-68ca-450c-a46e-e66a05d44a34","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd03"},{"pinSourceUid":"12903017-f0bd-4f3e-98ec-a07169e06c32","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd04"},{"pinSourceUid":"936e1b7d-441d-47bb-90c4-08237fb00c52","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"}],"components":[{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz_0","width":90,"pin":{"s":"A0"},"uid":"76139375-8d98-4352-a93b-f956543fca92","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":74.68926553672316,"x":48.47560975609756},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"3d9b83ee-55c5-4531-a290-260721c86100"}}},{"height":106,"category":"servos","id":"servo","name":"servo_horizontal","width":125,"pin":{"s":"10"},"uid":"e122eefe-5786-4b3b-a61d-4139b4b70fc7","connected":true,"pins":{"digital":["s"]},"coordinates":{"y":15.480225988700566,"x":42.25609756097561},"icon":"servo","oscillator":"false","endpoints":{"s":{"type":"digital","uid":"477f8d92-68ca-450c-a46e-e66a05d44a34"}}},{"height":106,"category":"servos","id":"servo","name":"servo_vertical","width":125,"pin":{"s":"9"},"uid":"b430f8be-aa86-4684-acea-c69aa660a816","connected":true,"pins":{"digital":["s"]},"coordinates":{"y":15.819209039548024,"x":51.15853658536585},"icon":"servo","oscillator":"false","endpoints":{"s":{"type":"digital","uid":"12903017-f0bd-4f3e-98ec-a07169e06c32"}}},{"height":73,"category":"sensors","id":"button","name":"boton_0","width":90,"pin":{"s":"7"},"uid":"0e9ad446-e942-4b1f-a70e-0fc78aa33395","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":17.51412429378531,"x":61.28048780487805},"icon":"button","endpoints":{"s":{"type":"digital","uid":"936e1b7d-441d-47bb-90c4-08237fb00c52"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}