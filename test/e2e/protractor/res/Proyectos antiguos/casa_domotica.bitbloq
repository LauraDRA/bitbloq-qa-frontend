{"code":"\n/***   Included libraries  ***/\n#include <Servo.h>\n\n\n/***   Global variables and function definition  ***/\nconst int zumbador_0 = 7;Servo servo_continuo_0;Servo servo_0;const int led_jardin = 13;const int led_bienvenida = 12;const int boton_0 = 5;const int sensor_de_luz_0 = A5;const int sensor_infrarrojos_0 = 9;void alarma (){tone(zumbador_0,261,400);\ndelay(400);tone(zumbador_0,494,400);\ndelay(400);delay(500);}float sensor = digitalRead(sensor_infrarrojos_0);float cantidad_de_luz = analogRead(sensor_de_luz_0);\n\n/***   Setup  ***/\nvoid setup(){servo_continuo_0.attach(0);servo_0.attach(1);pinMode(led_jardin, OUTPUT);pinMode(led_bienvenida, OUTPUT);pinMode(boton_0, INPUT);pinMode(sensor_de_luz_0, INPUT);pinMode(sensor_infrarrojos_0, INPUT);servo_0.write(0);delay(2000);}\n\n/***   Loop  ***/\nvoid loop(){/*\nactivar - desactivar alarma\n*/if(sensor == 0){while (digitalRead(boton_0) == 0){alarma();sensor = digitalRead(sensor_infrarrojos_0);}}else {delay(500);sensor = digitalRead(sensor_infrarrojos_0);}/*\nLuz_del_jardín\n*/if(cantidad_de_luz < 100){digitalWrite(led_jardin,HIGH);}else {digitalWrite(led_jardin,LOW);}/*\nluz de bienvenida\n*/if(digitalRead(boton_0) == 1){tone(zumbador_0,261,200);\ndelay(200);tone(zumbador_0,329,200);\ndelay(200);digitalWrite(led_bienvenida,HIGH);delay(8000);digitalWrite(led_bienvenida,LOW);}/*\nbarrera garage\n*/if(digitalRead(boton_0) == 1){servo_0.write(100);delay(8000);servo_0.write(5);delay(2000);}/*\nsacar toldo\n*/if(digitalRead(boton_0) == 1){servo_continuo_0.write(0);delay(10);servo_continuo_0.write(0);delay(10);servo_continuo_0.write(0);delay(10);}else {servo_continuo_0.write(90);delay(8000);}}","description":"","videoUrl":"","name":"casa domotica","corbelId":"55acae7ae4b00f538d041f75:6e707b4e-473b-4feb-a011-a4b46ebb6bd6","image":"default","userTags":[],"hardwareTags":["button","servocont","led","ldrs","irs","servo","buzz","bq ZUM"],"software":{"loop":{"enable":true,"name":"loopBloq","childs":[{"enable":true,"name":"comment","content":[[{"alias":"multilineCommentInput","id":"COMMENT","value":"activar - desactivar alarma"}]]},{"enable":true,"name":"if","childs":[{"enable":true,"name":"while","childs":[{"enable":true,"name":"invokeFunction","content":[[{"alias":"dynamicDropdown","id":"FUNCTION","value":"alarma"}]]},{"enable":true,"name":"setVariable","content":[[{"alias":"dynamicDropdown","id":"NAME","value":"sensor"},{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"sensor_infrarrojos_0"}]]},"bloqInputId":"VALUE"}]]}],"content":[[{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"boton_0"}]]},"bloqInputId":"ARG1"},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","value":{"enable":true,"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"0"}]]},"bloqInputId":"ARG2"}]]}],"content":[[{"alias":"bloqInput","value":{"enable":true,"name":"selectVariable","content":[[{"alias":"dynamicDropdown","id":"VAR","value":"sensor"}]]},"bloqInputId":"ARG1"},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","value":{"enable":true,"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"0"}]]},"bloqInputId":"ARG2"}]]},{"enable":true,"name":"else","childs":[{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"500"}]]},{"enable":true,"name":"setVariable","content":[[{"alias":"dynamicDropdown","id":"NAME","value":"sensor"},{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"sensor_infrarrojos_0"}]]},"bloqInputId":"VALUE"}]]}],"content":[[]]},{"enable":true,"name":"comment","content":[[{"alias":"multilineCommentInput","id":"COMMENT","value":"Luz_del_jardín"}]]},{"enable":true,"name":"if","childs":[{"enable":true,"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"HIGH"},{"alias":"dynamicDropdown","id":"LED","value":"led_0"}]]}],"content":[[{"alias":"bloqInput","value":{"enable":true,"name":"selectVariable","content":[[{"alias":"dynamicDropdown","id":"VAR","value":"cantidad_de_luz"}]]},"bloqInputId":"ARG1"},{"alias":"staticDropdown","id":"OPERATOR","value":"<"},{"alias":"bloqInput","value":{"enable":true,"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"100"}]]},"bloqInputId":"ARG2"}]]},{"enable":true,"name":"else","childs":[{"enable":true,"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"LOW"},{"alias":"dynamicDropdown","id":"LED","value":"led_0"}]]}],"content":[[]]},{"enable":true,"name":"comment","content":[[{"alias":"multilineCommentInput","id":"COMMENT","value":"luz de bienvenida"}]]},{"enable":true,"name":"if","childs":[{"enable":true,"name":"buzzer","content":[[{"alias":"dynamicDropdown","id":"BUZZER","value":"zumbador_0"},{"alias":"staticDropdown","id":"NOTE","value":"261"},{"alias":"numberInput","id":"SECONDS","value":"200"}]]},{"enable":true,"name":"buzzer","content":[[{"alias":"dynamicDropdown","id":"BUZZER","value":"zumbador_0"},{"alias":"staticDropdown","id":"NOTE","value":"329"},{"alias":"numberInput","id":"SECONDS","value":"200"}]]},{"enable":true,"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"HIGH"},{"alias":"dynamicDropdown","id":"LED","value":"led_bienvenida"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"8000"}]]},{"enable":true,"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"LOW"},{"alias":"dynamicDropdown","id":"LED","value":"led_bienvenida"}]]}],"content":[[{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"boton_0"}]]},"bloqInputId":"ARG1"},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","value":{"enable":true,"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"1"}]]},"bloqInputId":"ARG2"}]]},{"enable":true,"name":"comment","content":[[{"alias":"multilineCommentInput","id":"COMMENT","value":"barrera garage"}]]},{"enable":true,"name":"if","childs":[{"enable":true,"name":"servoNormal","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_0"},{"alias":"numberInput","id":"POSITION","value":"100"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"8000"}]]},{"enable":true,"name":"servoNormal","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_0"},{"alias":"numberInput","id":"POSITION","value":"5"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"2000"}]]}],"content":[[{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"boton_0"}]]},"bloqInputId":"ARG1"},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","value":{"enable":true,"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"1"}]]},"bloqInputId":"ARG2"}]]},{"enable":true,"name":"comment","content":[[{"alias":"multilineCommentInput","id":"COMMENT","value":"sacar toldo"}]]},{"enable":true,"name":"if","childs":[{"enable":true,"name":"continuousServoStart","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_continuo_0"},{"alias":"staticDropdown","id":"DIRECTION","value":"0"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"10"}]]},{"enable":true,"name":"continuousServoStart","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_continuo_0"},{"alias":"staticDropdown","id":"DIRECTION","value":"0"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"10"}]]},{"enable":true,"name":"continuousServoStart","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_continuo_0"},{"alias":"staticDropdown","id":"DIRECTION","value":"0"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"10"}]]}],"content":[[{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"boton_0"}]]},"bloqInputId":"ARG1"},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","value":{"enable":true,"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"1"}]]},"bloqInputId":"ARG2"}]]},{"enable":true,"name":"else","childs":[{"enable":true,"name":"continuousServoStop","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_continuo_0"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"8000"}]]}],"content":[[]]}],"content":[[]]},"setup":{"enable":true,"name":"setupBloq","childs":[{"enable":true,"name":"servoNormal","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_0"},{"alias":"numberInput","id":"POSITION","value":"0"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"2000"}]]}],"content":[[]]},"vars":{"enable":true,"name":"varsBloq","childs":[{"enable":true,"name":"voidFunction","childs":[{"enable":true,"name":"buzzer","content":[[{"alias":"dynamicDropdown","id":"BUZZER","value":"zumbador_0"},{"alias":"staticDropdown","id":"NOTE","value":"261"},{"alias":"numberInput","id":"SECONDS","value":"400"}]]},{"enable":true,"name":"buzzer","content":[[{"alias":"dynamicDropdown","id":"BUZZER","value":"zumbador_0"},{"alias":"staticDropdown","id":"NOTE","value":"494"},{"alias":"numberInput","id":"SECONDS","value":"400"}]]},{"enable":true,"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"500"}]]}],"content":[[{"alias":"varInput","id":"FUNCNAME","value":"alarma"}]]},{"enable":true,"name":"declareVariable","content":[[{"alias":"varInput","id":"NAME","value":"sensor"},{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"sensor_infrarrojos_0"}]]},"bloqInputId":"VALUE"}]]},{"enable":true,"name":"declareVariable","content":[[{"alias":"varInput","id":"NAME","value":"cantidad_de_luz"},{"alias":"bloqInput","value":{"enable":true,"name":"readSensor","content":[[{"alias":"dynamicDropdown","id":"SENSOR","value":"sensor_de_luz_0"}]]},"bloqInputId":"VALUE"}]]}],"content":[[]]}},"hardware":{"board":"bq ZUM","connections":[{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd08","pinSourceUid":"155413c6-e94c-4592-a492-a99b8b3a011d"},{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd13","pinSourceUid":"1e003196-bee9-4b54-96a3-a36c514d6cad"},{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd00","pinSourceUid":"c25cefd1-4c63-4916-b1e7-7a84002b5097"},{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd01","pinSourceUid":"d0588f30-204e-4649-96a1-5201f4d83314"},{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba00","pinSourceUid":"f9b42ca0-deb3-4258-bcae-8dc12bb83961"},{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd04","pinSourceUid":"880eebec-d547-4a90-9aef-a9692cd1e28e"},{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd12","pinSourceUid":"25470252-5ddf-4eae-b35f-d1001ad96314"},{"pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06","pinSourceUid":"764ca39d-47a2-4f45-b0ca-55129d0df10e"}],"components":[{"endpoints":{"s":{"uid":"155413c6-e94c-4592-a492-a99b8b3a011d","type":"digital"}},"coordinates":{"x":67.04761904761905,"y":19.2090395480226},"pins":{"digital":["s"]},"dragtype":"components","type":"digital","connected":true,"uid":"e2af0bb5-e800-47f0-86d4-b13f64800102","pin":{"s":"5"},"width":90,"name":"boton_0","id":"button","category":"sensors","height":73},{"connected":true,"uid":"3a0c0b2d-eb6b-4a5c-aaa3-15d90ab72946","endpoints":{"s":{"uid":"1e003196-bee9-4b54-96a3-a36c514d6cad","type":"digital"}},"pin":{"s":"0"},"width":125,"coordinates":{"x":58.41269841269842,"y":14.576271186440678},"name":"servo_continuo_0","pins":{"digital":["s"]},"dragtype":"components","id":"servocont","category":"continuousServos","height":106},{"connected":true,"uid":"2d6451f1-30b1-4cf9-92b1-7d3f9c116843","endpoints":{"s":{"uid":"c25cefd1-4c63-4916-b1e7-7a84002b5097","type":"digital"}},"pin":{"s":"13"},"width":55,"coordinates":{"x":47.492063492063494,"y":18.07909604519774},"name":"led_jardin","pins":{"digital":["s"]},"dragtype":"components","id":"led","category":"leds","height":83},{"connected":true,"uid":"7b09ae47-8a4e-4235-a9a4-e8e85dd3a21b","endpoints":{"s":{"uid":"d0588f30-204e-4649-96a1-5201f4d83314","type":"digital"}},"pin":{"s":"12"},"width":55,"coordinates":{"x":51.55555555555556,"y":16.610169491525422},"name":"led_bienvenida","pins":{"digital":["s"]},"dragtype":"components","id":"led","category":"leds","height":83},{"endpoints":{"s":{"uid":"f9b42ca0-deb3-4258-bcae-8dc12bb83961","type":"analog"}},"coordinates":{"x":59.6045197740113,"y":62.97918948521358},"pins":{"analog":["s"]},"dragtype":"components","type":"analog","connected":true,"uid":"821f9cdb-df87-4049-9d08-a2beacc610ef","pin":{"s":"A5"},"width":90,"name":"sensor_de_luz_0","id":"ldrs","category":"sensors","height":65},{"endpoints":{"s":{"uid":"880eebec-d547-4a90-9aef-a9692cd1e28e","type":"digital"}},"coordinates":{"x":34.6031746031746,"y":17.401129943502823},"pins":{"digital":["s"]},"dragtype":"components","type":"digital","connected":true,"uid":"5c9d3aaa-87de-41a1-8267-2c69c2a4171c","pin":{"s":"9"},"width":90,"name":"sensor_infrarrojos_0","id":"irs","category":"sensors","height":77},{"endpoints":{"s":{"uid":"25470252-5ddf-4eae-b35f-d1001ad96314","type":"digital"}},"oscillator":"false","coordinates":{"x":67.42857142857143,"y":28.361581920903955},"pins":{"digital":["s"]},"dragtype":"components","connected":true,"uid":"5c0be4fd-fbb0-4ac0-9ba3-799fffc49b66","pin":{"s":"1"},"width":125,"name":"servo_0","id":"servo","category":"servos","height":106},{"endpoints":{"s":{"uid":"764ca39d-47a2-4f45-b0ca-55129d0df10e","type":"digital"}},"coordinates":{"x":30.666666666666664,"y":27.570621468926554},"pins":{"digital":["s"]},"dragtype":"components","type":"digital","connected":true,"uid":"17b873bd-e3e7-4018-969c-b9b17e9ec5a5","pin":{"s":"7"},"width":85,"name":"zumbador_0","id":"buzz","category":"buzzers","height":80}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}