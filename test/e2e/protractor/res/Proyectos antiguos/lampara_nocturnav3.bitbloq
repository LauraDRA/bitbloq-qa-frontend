{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint led1 = 3;int led2 = 4;int pulsador = 7;int sensor_luz = A1;float estado = 0;float cantluz = 0;bool tiempo = true;\n\n/***   Setup  ***/\nvoid setup(){pinMode(led1, OUTPUT);pinMode(led2, OUTPUT);pinMode(pulsador, INPUT);pinMode(sensor_luz, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){cantluz = analogRead(A1);switch (int(estado)) {case 1:{digitalWrite(led1,HIGH);if(cantluz < 200 && tiempo == true){digitalWrite(led2,HIGH);delay(2000);digitalWrite(led2,LOW);tiempo = false;}else {digitalWrite(led2,LOW);}break;}case 0:{digitalWrite(led1,LOW);break;}}if(digitalRead(7) == 1){while (digitalRead(7) == 1){delay(100);}if(estado < 1){estado = estado + 1;}else {estado = 0;}}}","description":"","name":"lampara_nocturnav3","corbelId":"55acae7ae4b00f538d041f75:def1d308-d53a-4f49-9398-4bbcfa4c58b2","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","button","ldrs"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"value":"cantluz","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"sensor_luz","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"childs":[{"content":[[{"value":"1","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led1","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"CONDITION","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"cantluz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"200","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"tiempo","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led2","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led2","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"ifAdvanced","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led2","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"else","enable":true}],"name":"case","enable":true},{"content":[[{"value":"0","id":"VAR","alias":"numberInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led1","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true}],"name":"case","enable":true}],"name":"switch","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"pulsador","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"pulsador","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"while","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"+","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"basicOperations","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"else","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"cantluz","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"83fb2077-c827-4d3a-b722-49c0cc48effc","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"9b436496-a96c-4c30-bd9e-629e8aac2877","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"eaf98d79-209a-4275-a908-f9729719de5c","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"},{"pinSourceUid":"2c03b38a-ccad-4f71-9427-062163bd1639","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led1","coordinates":{"y":10.596026490066226,"x":69.62843295638126},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"83fb2077-c827-4d3a-b722-49c0cc48effc"}},"uid":"96e9dfd2-539e-456d-bf42-7cc9ccd0c93c","connected":true},{"height":73,"category":"sensors","id":"button","name":"pulsador","width":90,"pin":{"s":"7"},"uid":"acaf9467-11bc-41d4-92cb-3e012b4d906b","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":9.473684210526317,"x":16.943866943866944},"icon":"button","endpoints":{"s":{"type":"digital","uid":"9b436496-a96c-4c30-bd9e-629e8aac2877"}}},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_luz","width":90,"pin":{"s":"A1"},"uid":"231aba62-1f2e-48ec-ba23-500f9b938f4c","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":59.36842105263158,"x":68.1912681912682},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"eaf98d79-209a-4275-a908-f9729719de5c"}}},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led2","coordinates":{"y":0,"x":56.65280665280665},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"2c03b38a-ccad-4f71-9427-062163bd1639"}},"uid":"18dd1630-ec78-4ecb-af18-824edd897a2d","connected":true}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}