{"code":"\n/***   Included libraries  ***/\n\n\n/***   Global variables and function definition  ***/\nint led_control = 3;int led_lampara = 4;int boton_0 = 7;int sensor_de_luz_0 = A1;float estado = 0;bool tiempo = true;\n\n/***   Setup  ***/\nvoid setup(){pinMode(led_control, OUTPUT);pinMode(led_lampara, OUTPUT);pinMode(boton_0, INPUT);pinMode(sensor_de_luz_0, INPUT);}\n\n/***   Loop  ***/\nvoid loop(){if(estado == 0 && digitalRead(7) == 1){estado = 1;delay(500);}if(estado == 1 && digitalRead(7) == 1){estado = 0;delay(500);}if(estado == 1){digitalWrite(led_control,HIGH);if(analogRead(A1) < 200 && tiempo == true){digitalWrite(led_lampara,HIGH);delay(2000);digitalWrite(led_lampara,LOW);tiempo = false;}if(analogRead(A1) > 200 && tiempo == false){tiempo = true;if(analogRead(A1) < 200 && tiempo == true){digitalWrite(led_lampara,HIGH);delay(120000);digitalWrite(led_lampara,LOW);tiempo = false;}}}if(estado == 0){digitalWrite(led_control,LOW);digitalWrite(led_lampara,LOW);tiempo = true;}}","description":"","name":"lampara_nocturna","corbelId":"55acae7ae4b00f538d041f75:0e6eaa23-3aa8-4375-98a4-44e484b9105c","image":"default","userTags":[],"hardwareTags":["bq ZUM","led","button","ldrs"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"500","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"boton_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"value":"500","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"1","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_control","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"200","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"tiempo","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"2000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"200","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"tiempo","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"},{"value":"<","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"200","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"tiempo","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"HIGH","id":"STATE","alias":"staticDropdown"},{"value":"led_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"120000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"false","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"if","enable":true}],"name":"if","enable":true},{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_control","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"LOW","id":"STATE","alias":"staticDropdown"},{"value":"led_lampara","id":"LED","alias":"dynamicDropdown"}]],"name":"led","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"if","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"estado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"tiempo","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"true","id":"STATE","alias":"staticDropdown"}]],"name":"boolean","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"ad0651c7-730c-415b-a50e-3b03ba634500","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd10"},{"pinSourceUid":"de3884e5-6d2e-4af7-95c7-4d1bfdce1980","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd09"},{"pinSourceUid":"82732e17-5b59-4517-9ebf-ea417d14e42e","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"5cf6f17c-2176-465a-af0a-30c7d0a306a4","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba04"}],"components":[{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_control","coordinates":{"y":6.11439842209073,"x":65.29588766298897},"width":55,"icon":"LED","pin":{"s":"3"},"endpoints":{"s":{"type":"digital","uid":"ad0651c7-730c-415b-a50e-3b03ba634500"}},"uid":"31d46cda-1379-4dfa-9cd1-02d5b0ea7963","connected":true},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"name":"led_lampara","coordinates":{"y":7.6923076923076925,"x":75.62688064192578},"width":55,"icon":"LED","pin":{"s":"4"},"endpoints":{"s":{"type":"digital","uid":"de3884e5-6d2e-4af7-95c7-4d1bfdce1980"}},"uid":"9ee8e10d-8064-4532-941f-10094abda246","connected":true},{"height":73,"category":"sensors","id":"button","name":"boton_0","width":90,"pin":{"s":"7"},"uid":"ef7f3664-d71b-4cf3-929d-535600610c37","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"y":7.297830374753452,"x":24.172517552657975},"icon":"button","endpoints":{"s":{"type":"digital","uid":"82732e17-5b59-4517-9ebf-ea417d14e42e"}}},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz_0","width":90,"pin":{"s":"A1"},"uid":"918db0f7-87d8-4a7f-bb4e-04e1c0625745","connected":true,"type":"analog","pins":{"analog":["s"]},"coordinates":{"y":74.55621301775149,"x":62.38716148445336},"icon":"LDR","endpoints":{"s":{"type":"analog","uid":"5cf6f17c-2176-465a-af0a-30c7d0a306a4"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}