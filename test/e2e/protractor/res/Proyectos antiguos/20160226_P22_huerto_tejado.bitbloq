{"code":"\n/***   Included libraries  ***/\n#include <Servo.h>\n\n\n/***   Global variables and function definition  ***/\nServo servo_0;int sensor_de_luz_0 = A2;String estado_tejado = \"abierto\";float grados = 0;void cerrar_tejado (){for(grados=140;grados>=50;grados-=10){servo_0.write(grados);delay(100);}estado_tejado = \"cerrado\";}void abrir_tejado (){for(grados=50;grados<=140;grados+=10){servo_0.write(grados);delay(100);}estado_tejado = \"abierto\";}\n\n/***   Setup  ***/\nvoid setup(){servo_0.attach(7);pinMode(sensor_de_luz_0, INPUT);servo_0.write(140);}\n\n/***   Loop  ***/\nvoid loop(){float luz = analogRead(A2);if(luz > 300 && estado_tejado == \"abierto\"){cerrar_tejado();}else if (luz <= 300 && estado_tejado == \"cerrado\"){abrir_tejado();}delay(1000);}","description":"","videoUrl":"","name":"2016-02-26_P22_huerto_tejado","corbelId":"55acae7ae4b00f538d041f75:72eb569f-67e0-4cfb-ae0d-f2819f6bbac4","image":"default","userTags":[],"hardwareTags":["servo","ldrs","bq ZUM"],"software":{"loop":{"content":[[]],"childs":[{"content":[[{"value":"luz","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"sensor_de_luz_0","id":"SENSOR","alias":"dynamicDropdown"}]],"name":"readSensor","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"bloqInputId":"CONDITION","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"luz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":">","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"300","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado_tejado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"abierto","id":"TEXT","alias":"stringInput"}]],"name":"string","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"cerrar_tejado","id":"FUNCTION","alias":"dynamicDropdown"}]],"name":"invokeFunction","enable":true}],"name":"ifAdvanced","enable":true},{"content":[[{"bloqInputId":"VAR","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"luz","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"<=","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"300","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"},{"value":"&&","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"bloqInputId":"ARG1","value":{"content":[[{"value":"estado_tejado","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"},{"value":"==","id":"OPERATOR","alias":"staticDropdown"},{"bloqInputId":"ARG2","value":{"content":[[{"value":"cerrado","id":"TEXT","alias":"stringInput"}]],"name":"string","enable":true},"alias":"bloqInput"}]],"name":"equalityOperations","enable":true},"alias":"bloqInput"}]],"name":"logicOperations","enable":true},"alias":"bloqInput"}]],"childs":[{"content":[[{"value":"abrir_tejado","id":"FUNCTION","alias":"dynamicDropdown"}]],"name":"invokeFunction","enable":true}],"name":"elseifAdvanced","enable":true},{"content":[[{"value":"1000","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"loopBloq","enable":true},"setup":{"content":[[]],"childs":[{"content":[[{"value":"servo_0","id":"SERVO","alias":"dynamicDropdown"},{"value":"140","id":"POSITION","alias":"numberInput"}]],"name":"servoNormal","enable":true}],"name":"setupBloq","enable":true},"vars":{"content":[[]],"childs":[{"content":[[{"value":"estado_tejado","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"abierto","id":"TEXT","alias":"stringInput"}]],"name":"string","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"grados","id":"NAME","alias":"varInput"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"0","id":"VALUE","alias":"numberInput"}]],"name":"number","enable":true},"alias":"bloqInput"}]],"name":"declareVariable","enable":true},{"content":[[{"value":"cerrar_tejado","id":"FUNCNAME","alias":"varInput"}]],"childs":[{"content":[[{"value":"grados","id":"VAR","alias":"dynamicDropdown"},{"value":"140","id":"INIT","alias":"numberInput"},{"value":"50","id":"FINAL","alias":"numberInput"},{"value":"-","id":"MODE","alias":"staticDropdown"},{"value":"10","id":"ADD","alias":"numberInput"}]],"childs":[{"content":[[{"bloqInputId":"SERVO","value":{"content":[[{"value":"servo_0","id":"COMPONENT","alias":"dynamicDropdown"}]],"name":"hwVariable","enable":true},"alias":"bloqInput"},{"bloqInputId":"POSITION","value":{"content":[[{"value":"grados","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"servoNormalAdvanced","enable":true},{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"for-v1","enable":true},{"content":[[{"value":"estado_tejado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"cerrado","id":"TEXT","alias":"stringInput"}]],"name":"string","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"voidFunction","enable":true},{"content":[[{"value":"abrir_tejado","id":"FUNCNAME","alias":"varInput"}]],"childs":[{"content":[[{"value":"grados","id":"VAR","alias":"dynamicDropdown"},{"value":"50","id":"INIT","alias":"numberInput"},{"value":"140","id":"FINAL","alias":"numberInput"},{"value":"+","id":"MODE","alias":"staticDropdown"},{"value":"10","id":"ADD","alias":"numberInput"}]],"childs":[{"content":[[{"bloqInputId":"SERVO","value":{"content":[[{"value":"servo_0","id":"COMPONENT","alias":"dynamicDropdown"}]],"name":"hwVariable","enable":true},"alias":"bloqInput"},{"bloqInputId":"POSITION","value":{"content":[[{"value":"grados","id":"VAR","alias":"dynamicDropdown"}]],"name":"selectVariable","enable":true},"alias":"bloqInput"}]],"name":"servoNormalAdvanced","enable":true},{"content":[[{"value":"100","id":"TIME","alias":"numberInput"}]],"name":"wait","enable":true}],"name":"for-v1","enable":true},{"content":[[{"value":"estado_tejado","id":"NAME","alias":"dynamicDropdown"},{"bloqInputId":"VALUE","value":{"content":[[{"value":"abierto","id":"TEXT","alias":"stringInput"}]],"name":"string","enable":true},"alias":"bloqInput"}]],"name":"setVariable","enable":true}],"name":"voidFunction","enable":true}],"name":"varsBloq","enable":true}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"efa47bbb-847d-4f63-80ba-2e4c81b1d511","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"ef7a6378-744e-4f7b-8a65-586e53824dcd","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53ba03"}],"components":[{"height":106,"category":"servos","id":"servo","name":"servo_0","width":125,"pin":{"s":"7"},"uid":"d8915f79-3df9-4dbc-bdc0-7eaebbb7fe8e","connected":true,"dragtype":"components","pins":{"digital":["s"]},"coordinates":{"y":17.0606372045221,"x":46.03345925526174},"oscillator":"false","endpoints":{"s":{"type":"digital","uid":"efa47bbb-847d-4f63-80ba-2e4c81b1d511"}}},{"height":65,"category":"sensors","id":"ldrs","name":"sensor_de_luz_0","width":90,"pin":{"s":"A2"},"uid":"09c6ab5d-dc26-42d6-a435-2131407f6c3d","connected":true,"type":"analog","dragtype":"components","pins":{"analog":["s"]},"coordinates":{"y":74.92291880781089,"x":52.1856449001619},"endpoints":{"s":{"type":"analog","uid":"ef7a6378-744e-4f7b-8a65-586e53824dcd"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}