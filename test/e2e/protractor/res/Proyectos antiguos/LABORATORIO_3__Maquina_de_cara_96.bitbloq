{"code":"\n/***   Included libraries  ***/\n#include <Servo.h>\n\n\n/***   Global variables and function definition  ***/\nconst int zumbador_0 = 12;Servo servo_continuo_0;const int led_0 = 11;const int boton_0 = 7;const int sensor_infrarojos_0 = 5;const int sensor_infrarojos_1 = 6;bool Moneda = false;void Caramelo (){while (digitalRead(sensor_infrarojos_1) == 1){servo_continuo_0.write(180);}delay(100);servo_continuo_0.write(90);}void sonido_meter_moneda (){tone(zumbador_0,392,100);\ndelay(100);tone(zumbador_0,440,100);\ndelay(100);tone(zumbador_0,494,100);\ndelay(100);}\n\n/***   Setup  ***/\nvoid setup(){servo_continuo_0.attach(8);pinMode(led_0, OUTPUT);pinMode(boton_0, INPUT);pinMode(sensor_infrarojos_0, INPUT);pinMode(sensor_infrarojos_1, INPUT);servo_continuo_0.write(90);digitalWrite(led_0,LOW);}\n\n/***   Loop  ***/\nvoid loop(){if(digitalRead(sensor_infrarojos_0) == 1){Moneda = true;}if(Moneda == true){digitalWrite(led_0,HIGH);if(digitalRead(boton_0) == 1){sonido_meter_moneda();digitalWrite(led_0,LOW);Caramelo();Moneda = false;delay(500);}}else {digitalWrite(led_0,LOW);if(digitalRead(boton_0) == 1){tone(zumbador_0,150,500);\ndelay(500);}}}","description":"","videoUrl":"","name":"LABORATORIO 3 - MÃ¡quina de caramelos 3","corbelId":"55acae7ae4b00f538d041f75:25454a03-0922-4361-a56b-2e334f08f716","image":"default","userTags":[],"hardwareTags":["buzz","led","button","servocont","irs","bq ZUM"],"software":{"vars":{"name":"varsBloq","content":[[]],"enable":true,"childs":[{"name":"declareVariable","content":[[{"alias":"varInput","id":"NAME","value":"Moneda"},{"alias":"bloqInput","bloqInputId":"VALUE","value":{"name":"boolean","content":[[{"alias":"staticDropdown","id":"STATE","value":"false"}]],"enable":true}}]],"enable":true},{"name":"voidFunction","content":[[{"alias":"varInput","id":"FUNCNAME","value":"Caramelo"}]],"enable":true,"childs":[{"name":"while","content":[[{"alias":"bloqInput","bloqInputId":"ARG1","value":{"name":"hwVariable","content":[[{"alias":"dynamicDropdown","id":"COMPONENT","value":"sensor_infrarojos_1"}]],"enable":true}},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","bloqInputId":"ARG2","value":{"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"1"}]],"enable":true}}]],"enable":true,"childs":[{"name":"continuousServoStart","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_continuo_0"},{"alias":"staticDropdown","id":"DIRECTION","value":"180"}]],"enable":true}]},{"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"100"}]],"enable":true},{"name":"continuousServoStop","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_continuo_0"}]],"enable":true}]},{"name":"voidFunction","content":[[{"alias":"varInput","id":"FUNCNAME","value":"sonido_meter_moneda"}]],"enable":true,"childs":[{"name":"buzzer","content":[[{"alias":"dynamicDropdown","id":"BUZZER","value":"zumbador_0"},{"alias":"staticDropdown","id":"NOTE","value":"392"},{"alias":"numberInput","id":"SECONDS","value":"100"}]],"enable":true},{"name":"buzzer","content":[[{"alias":"dynamicDropdown","id":"BUZZER","value":"zumbador_0"},{"alias":"staticDropdown","id":"NOTE","value":"440"},{"alias":"numberInput","id":"SECONDS","value":"100"}]],"enable":true},{"name":"buzzer","content":[[{"alias":"dynamicDropdown","id":"BUZZER","value":"zumbador_0"},{"alias":"staticDropdown","id":"NOTE","value":"494"},{"alias":"numberInput","id":"SECONDS","value":"100"}]],"enable":true}]}]},"setup":{"name":"setupBloq","content":[[]],"enable":true,"childs":[{"name":"continuousServoStop","content":[[{"alias":"dynamicDropdown","id":"SERVO","value":"servo_continuo_0"}]],"enable":true},{"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"LOW"},{"alias":"dynamicDropdown","id":"LED","value":"led_0"}]],"enable":true}]},"loop":{"name":"loopBloq","content":[[]],"enable":true,"childs":[{"name":"if","content":[[{"alias":"bloqInput","bloqInputId":"ARG1","value":{"name":"hwVariable","content":[[{"alias":"dynamicDropdown","id":"COMPONENT","value":"sensor_infrarojos_0"}]],"enable":true}},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","bloqInputId":"ARG2","value":{"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"1"}]],"enable":true}}]],"enable":true,"childs":[{"name":"setVariable","content":[[{"alias":"dynamicDropdown","id":"NAME","value":"Moneda"},{"alias":"bloqInput","bloqInputId":"VALUE","value":{"name":"boolean","content":[[{"alias":"staticDropdown","id":"STATE","value":"true"}]],"enable":true}}]],"enable":true}]},{"name":"if","content":[[{"alias":"bloqInput","bloqInputId":"ARG1","value":{"name":"selectVariable","content":[[{"alias":"dynamicDropdown","id":"VAR","value":"Moneda"}]],"enable":true}},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","bloqInputId":"ARG2","value":{"name":"boolean","content":[[{"alias":"staticDropdown","id":"STATE","value":"true"}]],"enable":true}}]],"enable":true,"childs":[{"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"HIGH"},{"alias":"dynamicDropdown","id":"LED","value":"led_0"}]],"enable":true},{"name":"if","content":[[{"alias":"bloqInput","bloqInputId":"ARG1","value":{"name":"hwVariable","content":[[{"alias":"dynamicDropdown","id":"COMPONENT","value":"boton_0"}]],"enable":true}},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","bloqInputId":"ARG2","value":{"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"1"}]],"enable":true}}]],"enable":true,"childs":[{"name":"invokeFunction","content":[[{"alias":"dynamicDropdown","id":"FUNCTION","value":"sonido_meter_moneda"}]],"enable":true},{"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"LOW"},{"alias":"dynamicDropdown","id":"LED","value":"led_0"}]],"enable":true},{"name":"invokeFunction","content":[[{"alias":"dynamicDropdown","id":"FUNCTION","value":"Caramelo"}]],"enable":true},{"name":"setVariable","content":[[{"alias":"dynamicDropdown","id":"NAME","value":"Moneda"},{"alias":"bloqInput","bloqInputId":"VALUE","value":{"name":"boolean","content":[[{"alias":"staticDropdown","id":"STATE","value":"false"}]],"enable":true}}]],"enable":true},{"name":"wait","content":[[{"alias":"numberInput","id":"TIME","value":"500"}]],"enable":true}]}]},{"name":"else","content":[[]],"enable":true,"childs":[{"name":"led","content":[[{"alias":"staticDropdown","id":"STATE","value":"LOW"},{"alias":"dynamicDropdown","id":"LED","value":"led_0"}]],"enable":true},{"name":"if","content":[[{"alias":"bloqInput","bloqInputId":"ARG1","value":{"name":"hwVariable","content":[[{"alias":"dynamicDropdown","id":"COMPONENT","value":"boton_0"}]],"enable":true}},{"alias":"staticDropdown","id":"OPERATOR","value":"=="},{"alias":"bloqInput","bloqInputId":"ARG2","value":{"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"1"}]],"enable":true}}]],"enable":true,"childs":[{"name":"buzzerAdvanced","content":[[{"alias":"bloqInput","bloqInputId":"BUZZER","value":{"name":"hwVariable","content":[[{"alias":"dynamicDropdown","id":"COMPONENT","value":"zumbador_0"}]],"enable":true}},{"alias":"bloqInput","bloqInputId":"NOTE","value":{"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"150"}]],"enable":true}},{"alias":"bloqInput","bloqInputId":"SECONDS","value":{"name":"number","content":[[{"alias":"numberInput","id":"VALUE","value":"500"}]],"enable":true}}]],"enable":true}]}]}]}},"hardware":{"board":"bq ZUM","connections":[{"pinSourceUid":"2ebfff70-2034-4947-bd8f-03714d246876","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd01"},{"pinSourceUid":"baff18fb-7485-44dd-aa97-16f3f57d0bd6","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd02"},{"pinSourceUid":"119e3cbb-3aa5-43f8-bcdb-ea4210945818","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd06"},{"pinSourceUid":"a70d85c5-1c99-45ef-8f91-9fd83fd95831","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd05"},{"pinSourceUid":"dc9840ed-c91a-47b4-8597-be5d30e5a909","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd08"},{"pinSourceUid":"2fcc1651-8f2c-4a1e-9ce3-bac28c4ab199","pinTargetUid":"6be0dd9d-2e52-4b7d-9dfc-c9edad53bd07"}],"components":[{"height":80,"category":"buzzers","id":"buzz","name":"zumbador_0","width":85,"pin":{"s":"12"},"uid":"c4a27461-9904-4f0a-b4e4-3df48f06bed2","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"x":23.746031746031747,"y":25.667828106852497},"icon":"buzzer","endpoints":{"s":{"type":"digital","uid":"2ebfff70-2034-4947-bd8f-03714d246876"}}},{"height":83,"category":"leds","id":"led","pins":{"digital":["s"]},"coordinates":{"x":52.63492063492063,"y":72.24157955865273},"name":"led_0","width":55,"icon":"LED","pin":{"s":"11"},"endpoints":{"s":{"type":"digital","uid":"baff18fb-7485-44dd-aa97-16f3f57d0bd6"}},"uid":"78b085fc-89b6-43f3-8b59-93b8a6545fc9","connected":true},{"height":73,"category":"sensors","id":"button","name":"boton_0","width":90,"pin":{"s":"7"},"uid":"9eb064e7-f103-4689-ac06-5dcf92a17ef0","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"x":47.42857142857143,"y":11.962833914053427},"icon":"button","endpoints":{"s":{"type":"digital","uid":"119e3cbb-3aa5-43f8-bcdb-ea4210945818"}}},{"height":106,"category":"continuousServos","id":"servocont","pins":{"digital":["s"]},"coordinates":{"x":29.904761904761905,"y":7.781649245063879},"name":"servo_continuo_0","width":125,"icon":"servoRotContinua","pin":{"s":"8"},"endpoints":{"s":{"type":"digital","uid":"a70d85c5-1c99-45ef-8f91-9fd83fd95831"}},"uid":"b3bf91e8-1c27-4993-a24d-5b2965ebd118","connected":true},{"height":77,"category":"sensors","id":"irs","name":"sensor_infrarojos_0","width":90,"pin":{"s":"5"},"uid":"c90965f2-2fe8-410c-bd87-b058684eaaa1","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"x":77.33333333333333,"y":40.76655052264808},"icon":"IRC","endpoints":{"s":{"type":"digital","uid":"dc9840ed-c91a-47b4-8597-be5d30e5a909"}}},{"height":77,"category":"sensors","id":"irs","name":"sensor_infrarojos_1","width":90,"pin":{"s":"6"},"uid":"8b427fc2-9e91-47ca-8c28-ae8223570831","connected":true,"type":"digital","pins":{"digital":["s"]},"coordinates":{"x":62.79365079365079,"y":14.169570267131244},"icon":"IRC","endpoints":{"s":{"type":"digital","uid":"2fcc1651-8f2c-4a1e-9ce3-bac28c4ab199"}}}]},"defaultTheme":"infotab_option_colorTheme","timesDownload":0,"timesAdded":0,"timesViewed":0}